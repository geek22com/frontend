{% macro to_icon(value) -%}
	{% if value %}
		<img src="{{ url_for('static', filename='./img/icon-yes.gif') }}" alt="да" />
	{% elif value == false %}
		<img src="{{ url_for('static', filename='./img/icon-no.gif') }}" alt="нет" />
	{% else %}
		<img src="{{ url_for('static', filename='./img/icon-unknown.gif') }}" alt="неизвестно" />
	{% endif %}
{% endmacro -%}

{% macro deleted(value) -%}
	{% if value %}
		<img src="{{ url_for('static', filename='./img/icon_deletelink.gif') }}" alt="удалено" />
	{% endif %}
{% endmacro -%}

{% macro added(value) -%}
	{% if value %}
		<img src="{{ url_for('static', filename='./img/icon_addlink.gif') }}" alt="добавлено" />
	{% endif %}
{% endmacro -%}

{% macro breadcrumb(title, href) %}
	<li><a href="{{ href }}">{{ title }}</a> <span class="divider">/</span></li>
{% endmacro %}

{% macro paginate(pages, rule) %}
{% if pages.count > 1 %}
<div class="pagination center">
	<ul>
		{% if pages.current != 1 %}
		<li class="prev"><a href="{{ url_for(rule, page=1, **kwargs) }}">&#8606;</a></li>
		<li><a href="{{ url_for(rule, page=pages.current-1, **kwargs) }}">&larr;</a></li>
		{% else %}
		<li class="prev disabled"><a>&#8606;</a></li>
		<li class="disabled"><a>&larr;</a></li>
		{% endif %}
		
		{% for page in pages.range %}
		<li {% if page == pages.current %}class="active"{% endif %}>
			<a href="{{ url_for(rule, page=page, **kwargs) }}">{{ page }}</a>
		</li>
		{% endfor %}
		
		{% if pages.current != pages.count %}
		<li><a href="{{ url_for(rule, page=pages.current+1, **kwargs) }}">&rarr;</a></li>
		<li class="next"><a href="{{ url_for(rule, page=pages.count, **kwargs) }}">&#8608;</a></li>
		{% else %}
		<li class="disabled"><a>&rarr;</a></li>
		<li class="next disabled"><a>&#8608;</a></li>
		{% endif %}
	</ul>
</div>
{% endif %}
{% endmacro %}

{% macro filter(value, choices, rule, rule_args={}, title='Фильтр:', param='filter') %}
	{% set current = value if value in choices|itemlist(0) else none %}
	<div class="pills-filter">
		<div class="pills-filter-title">{{ title }}</div>
		<div class="pills-filter-content">
			<ul class="pills">
				{% for val, name in choices %}
				{% set dummy = rule_args.update({param: val}) %}
				<li {% if val == current %}class="active"{% endif %}>
					<a href="{{ url_for(rule, **rule_args) }}">{{ name }}</a>
				</li>
				{% endfor %}
			</ul>
		</div>
	</div>
{% endmacro %}

{% macro hinted_datetime(value) %}
	{% with date = value|dateformat, time = value|timeformat %}
	<span title="{{ date }} {{ time }}">{{ date }}</span>
	{% endwith %}
{% endmacro %}